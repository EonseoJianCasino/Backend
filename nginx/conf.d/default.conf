server {
  listen 80;

  # 기본 프록시
  location / {
    proxy_pass http://app:8080;
    include /etc/nginx/snippets/proxy_headers.conf;

    # 롱폴링(예: timeoutSec=60) 대비 - 60초보다 크게
    proxy_read_timeout 90s;
    proxy_send_timeout 90s;
  }

  # (선택) /api만 별도 튜닝하고 싶으면 아래처럼 분리 가능
  # location /api/ {
  #   proxy_pass http://app:8080;
  #   include /etc/nginx/snippets/proxy_headers.conf;
  #   proxy_read_timeout 90s;
  #   proxy_send_timeout 90s;
  # }
}